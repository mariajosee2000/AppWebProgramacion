<ion-header class="ion-no-border">
  <div class="custom-header">
    <h2>Carrito</h2>
    <p *ngIf="cartItems.length > 0">{{ getItemsCount() }} items en tu carrito</p>
    <p *ngIf="cartItems.length === 0">Tu carrito está vacío</p>
  </div>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Cart Items -->
  <div class="cart-content" *ngIf="cartItems.length > 0">
    <div *ngFor="let item of cartItems" class="cart-item">
      <div class="cart-item-image">
        {{ item.image }}
      </div>
      
      <div class="cart-item-info">
        <h3 class="cart-item-name">{{ item.productName }}</h3>
        <p class="cart-item-desc">{{ item.description }}</p>
        <p class="cart-item-price">{{ formatPrice(item.price) }}</p>
        
        <div class="quantity-controls">
          <ion-button 
            fill="outline" 
            size="small" 
            class="quantity-btn"
            (click)="decreaseQuantity(item)"
          >
            <ion-icon name="remove" slot="icon-only"></ion-icon>
          </ion-button>
          
          <span class="quantity-value">{{ item.quantity }}</span>
          
          <ion-button 
            fill="outline" 
            size="small" 
            class="quantity-btn"
            (click)="increaseQuantity(item)"
          >
            <ion-icon name="add" slot="icon-only"></ion-icon>
          </ion-button>
        </div>
      </div>
    </div>

    <!-- Summary -->
    <div class="cart-summary">
      <div class="summary-row">
        <span>Subtotal</span>
        <span>{{ formatPrice(subtotal) }}</span>
      </div>
      <div class="summary-row">
        <span>Envío</span>
        <span>{{ formatPrice(deliveryFee) }}</span>
      </div>
      <div class="summary-row total">
        <span>Total</span>
        <span>{{ formatPrice(total) }}</span>
      </div>
      
      <ion-button 
        expand="block" 
        class="btn-checkout"
        (click)="checkout()"
      >
        Proceder al Pago
      </ion-button>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="cartItems.length === 0" class="empty-state">
    <ion-icon name="cart-outline"></ion-icon>
    <p>Tu carrito está vacío</p>
    <ion-button routerLink="/tabs/inicio" fill="outline" class="btn-browse">
      Explorar Restaurantes
    </ion-button>
  </div>
</ion-content>
